<!DOCTYPE html>
<html>
<head>
  <title>Merged HTML Changes</title>
  <style>
    /* Diff highlighting styles that will be injected into the rendered page */
    .diff-added {
      background-color: rgba(77, 208, 88, 0.3) !important;
      outline: 2px solid #4dd058 !important;
      outline-offset: 1px !important;
    }
    
    .diff-deleted {
      background-color: rgba(255, 82, 82, 0.3) !important;
      outline: 2px solid #ff5252 !important;
      outline-offset: 1px !important;
      opacity: 0.6 !important;
    }
    
    .diff-modified {
      background-color: rgba(156, 39, 176, 0.3) !important;
      outline: 2px solid #9c27b0 !important;
      outline-offset: 1px !important;
    }

    /* Floating legend */
    .diff-legend-overlay {
      position: fixed !important;
      top: 20px !important;
      right: 20px !important;
      background: rgba(30, 30, 30, 0.95) !important;
      color: white !important;
      padding: 15px !important;
      border-radius: 8px !important;
      z-index: 999999 !important;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif !important;
      font-size: 14px !important;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5) !important;
      min-width: 200px !important;
    }

    .diff-legend-overlay h4 {
      margin: 0 0 10px 0 !important;
      font-size: 16px !important;
      color: #007acc !important;
    }

    .diff-legend-item {
      display: flex !important;
      align-items: center !important;
      gap: 8px !important;
      margin: 5px 0 !important;
    }

    .diff-legend-color {
      width: 16px !important;
      height: 16px !important;
      border-radius: 3px !important;
      border: 1px solid !important;
    }

    .diff-legend-added .diff-legend-color {
      background-color: rgba(77, 208, 88, 0.3) !important;
      border-color: #4dd058 !important;
    }

    .diff-legend-deleted .diff-legend-color {
      background-color: rgba(255, 82, 82, 0.3) !important;
      border-color: #ff5252 !important;
    }

    .diff-legend-modified .diff-legend-color {
      background-color: rgba(156, 39, 176, 0.3) !important;
      border-color: #9c27b0 !important;
    }

    .diff-stats {
      margin-top: 15px !important;
      padding-top: 10px !important;
      border-top: 1px solid #444 !important;
      font-size: 12px !important;
      color: #ccc !important;
    }

    /* Loading overlay */
    .diff-loading-overlay {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      background: rgba(30, 30, 30, 0.9) !important;
      z-index: 1000000 !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      flex-direction: column !important;
      color: white !important;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif !important;
    }

    .diff-loading-spinner {
      width: 40px !important;
      height: 40px !important;
      border: 4px solid #333 !important;
      border-top: 4px solid #007acc !important;
      border-radius: 50% !important;
      animation: diff-spin 1s linear infinite !important;
      margin-bottom: 15px !important;
    }

    @keyframes diff-spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="diff-loading-overlay" id="diffLoading">
    <div class="diff-loading-spinner"></div>
    <p>Processing page changes...</p>
  </div>

  <script src="merged_view.js"></script>
</body>
</html>